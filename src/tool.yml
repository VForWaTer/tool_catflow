tools:
    make_representative_hillslope:
      title: Create a CATFLOW geometry file from .tif files using the method of representative hillslopes (Loritz et al 2017).
      description: |
        Hillslope wizard developed by Ralf Loritz (2015)
        Delination of 2D catenas from hillslopes. The idea behind this code is based on a approach from Francke et al. 2006 (Automated 
        catena-based discretization of landscapes for the derivation of hydrological modelling 
        units) and Cochrane and Flanagan (2003). The idea behind this approach is to select every unique distance and their corrosponding 
        elevation from a river inside a hillslope. If more than one raster cell have the same 
        distance the elevation is calculated by a weighted mean using the flow accumulation. The 
        hillslope width can be estimated by the frequency of the appearance of a single distance. 
        In this present version, we assume a fixed horizontal and varying vertical grid spacing for the hillslope element as in Manoj J et al (2024). This would be revised in the
        upcoming versions.
      parameters:
        hillslope_id:
          type: integer
          description: Integer ID of the hillslope from `hillslopes.tif` used to calculate the geometry. Use -1 to process the entire basin.
          default: -1
        no_flow_area:
          type: float
          description: |
           Percentage of the upper hillslope to consider 'no flow' (area with almost no slope). This identifies upper areas with consistently
           very low estimated width (below a chosen width quantile) that contribute minimally to runoff. Shortening the profile focuses on
           the hydrologically active lower hillslope.
          default: 0.30
        min_cells:
          type: integer
          description: |
           Minimum number of unique rounded distance values to be considered for the hillslope geometry.
           This parameter helps to filter out very short or simple hillslopes that may not be well represented by the 2D catena approach,
           potentially due to insufficient variation in distance and elevation.
          default: 10
        hill_type:
          type: enum
          description: |
            Hillslope type. (1) constant thickness (default), (2) cake-shape, (3) variable thickness with spline approximation of lower boundary. 
            Refer CATFLOW manual for more details.
          values:
            - constant
            - cake
            - variable
          default: constant
        depth:
          type: float
          description: Thickness of the soil profile (m).
          default: 2.1
        constant_width:
          type: boolean
          description: |
            If true, use a constant width for the hillslope geometry. If false, use a varying width along the hillslope profile.
          default: false
        precip_distributed:
          type: boolean
          description: |
            If true, precipitation is distributed across hillslopes (each hillslope receives its own precip_id, typically the hillslope ID).
            If false, precipitation is applied lumped (single precipitation input for all hillslopes).
          default: true
        clim_distributed:
          type: boolean
          description: |
            If true, climatological inputs (e.g., temperature, radiation) are distributed across hillslopes (each hillslope receives its own clim_id).
            If false, climatological inputs are applied lumped (single input for all hillslopes).
          default: true
        min_area:
          type: integer
          description: |
            Minimum area (in square meters) required for a hillslope to be considered valid.
          default: 10000
        freedom:
          type: integer
          description: |
            Degree of freedom for the spline function used in hillslope geometry calculations (positive integer).
          default: 10
      data:
        flow_accumulation:
          example: /in/flow_accumulation.tif
          extension: .tif
          description: Flow accumulation .tif file.
        hillslopes:
          example: /in/hillslopes.tif
          extension: .tif
          description: .tif file for hillslopes.
        elev2river:
          example: /in/elevation.tif
          extension: .tif
          description: .tif file for elevation to river.
        dist2river:
          example: /in/distance.tif
          extension: .tif
          description: .tif file for the distance to river.
        filled_dem:
          example: /in/fill_DEM.tif
          extension: .tif
          description: Filled Digital elevation model (DEM).
        aspect:
          example: /in/aspect.tif
          extension: .tif
          description: .tif file for aspect.
        river_id:
          example: /in/streams.tif
          extension: .tif
          description: .tif file for river network.
        soil:
          example: /in/soils.tif
          extension: .tif
          description: .tif file for soil properties (Optional - if not needed, omit from input.json).
        landuse:
          example: /in/landuse.tif
          extension: .tif
          description: .tif file for landuse properties (Optional - if not needed, omit from input.json).

